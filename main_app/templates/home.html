{% extends 'base.html' %}

{% block title %}Home - Bin Tailoring Shop{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="text-center text-white py-5"
         style="background: linear-gradient(135deg, #111, #333); position: relative; overflow: hidden;">
  <div class="container py-5">
    {% if user.is_authenticated %}
      <h1 class="display-4 fw-bold mb-3 animate__animated animate__fadeInDown">
        Welcome back, {{ user.username }} üëã
      </h1>
      <p class="lead mb-4 animate__animated animate__fadeInUp">
        Experience custom-made outfits crafted to perfection ‚Äî just for you.
      </p>
      <a href="{% url 'my_orders' %}" class="btn btn-warning btn-lg shadow-lg animate__animated animate__zoomIn">
        View My Orders
      </a>
    {% else %}
      <h1 class="display-4 fw-bold mb-3 animate__animated animate__fadeInDown">
        Welcome to Bin Tailoring
      </h1>
      <p class="lead mb-4 animate__animated animate__fadeInUp">
        Custom designs. Perfect measurements. Premium fabrics. Be your own style.
      </p>
      <a href="{% url 'register' %}" class="btn btn-light btn-lg shadow-lg animate__animated animate__zoomIn">
        Get Started
      </a>
    {% endif %}
  </div>
</section>

<!-- About / Short Description -->
<section class="container text-center my-5">
  <h2 class="fw-bold mb-3 text-uppercase">Why Choose Us?</h2>
  <div class="mx-auto" style="max-width: 700px;">
    <p class="text-muted fs-5">
      At <strong>Bin Tailoring</strong>, we create both traditional and modern outfits with 
      unmatched precision and care. Our garments are designed to make you feel confident, elegant, 
      and comfortable ‚Äî every time you wear them.
    </p>
  </div>
</section>

<!-- Product Section -->
<div class="container mb-5">
  <h2 class="text-center fw-bold mb-4 text-uppercase">Our Tailoring Collection</h2>
  <div class="row">
    {% for product in products %}
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow border-0 rounded-4 transition-all"
             style="overflow: hidden; transition: transform 0.3s, box-shadow 0.3s;"
             onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 10px 20px rgba(0,0,0,0.2)';"
             onmouseout="this.style.transform=''; this.style.boxShadow='';">

          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" 
                 class="card-img-top rounded-top-4" style="height: 250px; object-fit: cover;">
          {% else %}
            <img src="https://via.placeholder.com/350x250" class="card-img-top rounded-top-4" alt="No image">
          {% endif %}

          <div class="card-body text-center">
            <h5 class="card-title fw-bold text-dark">{{ product.name }}</h5>
            <p class="card-text text-muted small">{{ product.description|truncatewords:18 }}</p>
            <p class="fw-bold text-success fs-5">‚Ç¶{{ product.price }}</p>

            {% if user.is_authenticated %}
              <a href="{% url 'create_order' product.id %}" 
                 class="btn btn-dark w-100 rounded-pill">Order Now</a>
            {% else %}
              <a href="{% url 'login' %}" 
                 class="btn btn-outline-dark w-100 rounded-pill">Login to Order</a>
            {% endif %}
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-center text-muted fs-5">No products available at the moment.</p>
    {% endfor %}
  </div>
</div>

<!-- Footer Section -->
<footer class="bg-dark text-white py-4 text-center mt-5">
  <p class="mb-0">
    &copy; {{ now|date:"Y" }} <strong>Bin Tailoring Shop</strong>. 
    Designed with ‚ù§Ô∏è ‚Äî where style meets perfection.
  </p>
</footer>

{% endblock %}
